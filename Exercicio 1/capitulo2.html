<!DOCTYPE html>
<html lang=pt-br dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Capítulo 2: Variáveis, expressões e instruções</title>
    <link rel="shortcut icon" href="https://images-na.ssl-images-amazon.com/images/I/51yjRvjhSIL._SX357_BO1,204,203,200_.jpg"></link>
  </head>
  <body>
    <h1><b><font color=#008B45>Capítulo 2: Variáveis, expressões e instruções</font></b></h1>
    <p>Um dos recursos mais eficientes de uma linguagem de programação é a capacidade de manipular variáveis. Uma variável é um nome que se refere a um valor.</p>
    <h2><b><font color=#008B45>2.1 - Instruções de atribuição</font></b></h2>
    <p>Uma instrução de atribuição cria uma nova variável e dá um valor a ela:</p>
    <div class="language-python hightlighter-rouge">
      <div class=highlight>
        <pre class="highlight">
          <code>
            >>> message = 'And now for something completely different'<br>
            >>> n = 17<br>
            >>> pi = 3.141592653589793</code></pre></div></div>
    <p>Esse exemplo faz três atribuições. A primeira atribui uma string a uma nova variável chamada message; a segunda dá o número inteiro 17 a n; a terceira atribui o valor (aproximado) de π a pi.</p>
    <p>Uma forma comum de representar variáveis por escrito é colocar o nome com uma flecha apontando para o seu valor. Este tipo de número é chamado de diagrama de estado porque mostra o estado no qual cada uma das variáveis está (pense nele como o estado de espírito da variável). A Figura 2.1 mostra o resultado do exemplo anterior.
    <p></p>
    <img src="https://github.com/PenseAllen/PensePython2e/raw/master/fig/tnkp_0201.png" alt="Figura 2.1 – Diagrama de estado."><br>
    <em>Figura 2.1 - Diagrama de estado.</em></p>
    <h2><b><font color=#008B45>2.2 - Nomes de variáveis</font></b></h2>
    <p>Os programadores geralmente escolhem nomes significativos para as suas variáveis – eles documentam o uso da variável.</p>
    <p>Nomes de variáveis podem ser tão longos quanto você queira. Podem conter tanto letras como números, mas não podem começar com um número. É legal usar letras maiúsculas, mas a convenção é usar apenas letras minúsculas para nomes de variáveis.</p>
    <p>O caractere de sublinhar (_) pode aparecer em um nome. Muitas vezes é usado em nomes com várias palavras, como your_name ou airspeed_of_unladen_swallow.</p>
    <p>Se você der um nome ilegal a uma variável, recebe um erro de sintaxe:</p>
    <div class="language-python hightlighter-rouge">
      <div class=highlight>
        <pre class="highlight">
          <code>
            >>> 76trombones = 'big parade'<br>
            SyntaxError: invalid syntax<br>
            >>> more@ = 1000000<br>
            SyntaxError: invalid syntax<br>
            >>> class = 'Advanced Theoretical Zymurgy'<br>
            SyntaxError: invalid syntax</code></pre></div></div>
    <p><code class="hightlighter-rouge">76 trombones</code> é ilegal porque começa com um número. <code class="hightlighter-bisque">more@</code> é ilegal porque contém um caractere ilegal, o <code class="hightlighter-bisque">@</code>. Mas o que há de errado com <code class="hightlighter-bisque">class?</code></p>
    <p>A questão é que class é uma das palavras-chave do Python. O interpretador usa palavras-chave para reconhecer a estrutura do programa e elas não podem ser usadas como nomes de variável.</p>
    <p>O Python 3 tem estas palavras-chave:</p>
    <div class="language-python hightlighter-rouge">
      <div class=highlight>
        <pre class="highlight">
          <code>
            and         del         from        None        True<br>
            as          elif        global      nonlocal    try<br>
            assert      else        if          not         while<br>
            break       except      import      or          with<br>
            class       False       in          pass        yield<br>
            continue    finally     is          raise<br>
            def         for         lambda      return</code></pre></div></div>
    <p>Você não precisa memorizar essa lista. Na maior parte dos ambientes de desenvolvimento, as palavras-chave são exibidas em uma cor diferente; se você tentar usar uma como nome de variável, vai perceber.</p>
    <h2><b><font color=#008B45>2.3 - Expressões e instruções</font></b></h2>
    <p>Uma expressão é uma combinação de valores, variáveis e operadores. Um valor por si mesmo é considerado uma expressão, assim como uma variável, portanto as expressões seguintes são todas legais:</p>
    <div class="language-python hightlighter-rouge">
      <div class=highlight>
        <pre class="highlight">
          <code>
            >>> 42<br>
            42<br>
            >>> n<br>
            17<br>
            >>> n + 25<br>
            42</code></pre></div></div>
      <p>Quando você digita uma expressão no prompt, o interpretador a avalia, ou seja, ele encontra o valor da expressão. Neste exemplo, o n tem o valor 17 e n + 25 tem o valor 42.</p>
      <p>Uma instrução é uma unidade de código que tem um efeito, como criar uma variável ou exibir um valor.</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              >>> n = 17<br>
              >>> print(n)</code></pre></div></div>
      <p>A primeira linha é uma instrução de atribuição que dá um valor a n. A segunda linha é uma instrução de exibição que exibe o valor de n.</p>
      <p>Quando você digita uma instrução, o interpretador a executa, o que significa que ele faz o que a instrução diz. Em geral, instruções não têm valores.</p>
      <h2><b><font color=#008B45>2.4 - Modo script</font></b></h2>
      <p>Até agora executamos o Python no modo interativo, no qual você interage diretamente com o interpretador. O modo interativo é uma boa forma de começar, mas se estiver trabalhando com mais do que algumas linhas do código, o processo pode ficar desorganizado.</p>
      <p>A alternativa é salvar o código em um arquivo chamado script e então executar o interpretador no modo script para executá-lo. Por convenção, os scripts no Python têm nomes que terminam com .py.</p>
      <p>Se souber como criar e executar um script no seu computador, você está pronto. Senão, recomendo usar o PythonAnywhere novamente. Inseri instruções sobre como executar programas no modo script em http://tinyurl.com/thinkpython2e.</p>
      <p>Como o Python oferece os dois modos, você pode testar pedaços do código no modo interativo antes de colocá-los em um script. Mas há diferenças entre o modo interativo e o modo script que podem confundir as pessoas.</p>
      <p>Por exemplo, se estiver usando o Python como uma calculadora, você poderia digitar:</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              >>> miles = 26.2<br>
              >>> miles * 1.61<br>
              42.182</code></pre></div></div>
      <p>A primeira linha atribui um valor a miles, mas não tem efeito visível. A segunda linha é uma expressão, então o interpretador a avalia e exibe o resultado. No fim, chega-se ao resultado de que uma maratona tem aproximadamente 42 quilômetros.</p>
      <p>Mas se você digitar o mesmo código em um script e executá-lo, não recebe nenhuma saída. Uma expressão, por conta própria, não tem efeito visível no modo script. O Python, na verdade, avalia a expressão, mas não exibe o valor a menos que você especifique:</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              miles = 26.2<br>
              print(miles * 1.61)</code></pre></div></div>
      <p>Este comportamento pode confundir um pouco no início.</p>
      <p>Um script normalmente contém uma sequência de instruções. Se houver mais de uma instrução, os resultados aparecem um após o outro, conforme as instruções sejam executadas.</p>
      <p>Por exemplo, o script</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              print(1)<br>
              x = 2<br>
              print(x)</code></pre></div></div>
      <p>produz a saída</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              1<br>
              2</code></pre></div></div>
      <p>A instrução de atribuição não produz nenhuma saída.</p>
      <p>Para verificar sua compreensão, digite as seguintes instruções no interpretador do Python e veja o que fazem:</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              5<br>
              x = 5<br>
              x + 1</code></pre></div></div>
      <p>Agora ponha as mesmas instruções em um script e o execute. Qual é a saída? Altere o script transformando cada expressão em uma instrução de exibição e então o execute novamente.</p>
      <h2><b><font color=#008B45>2.5 - Ordem das operações</font></b></h2>
      <p>Quando uma expressão contém mais de um operador, a ordem da avaliação depende da ordem das operações. Para operadores matemáticos, o Python segue a convenção matemática. O acrônimo PEMDAS pode ser útil para lembrar das regras:</p>
      <ul>
        <li><p>Os Parênteses têm a precedência mais alta e podem ser usados para forçar a avaliação de uma expressão na ordem que você quiser. Como as expressões em parênteses são avaliadas primeiro, <code class="hightlighter-rouge">2 * (3-1)</code> é 4, e <code class="hightlighter-rouge">(1+1)**(5-2)</code> é 8. Também é possível usar parênteses para facilitar a leitura de uma expressão, como no caso de <code class="hightlighter-rouge">(minute * 100) / 60</code>, mesmo se o resultado não for alterado.</p></li>
        <li><p>A Exponenciação tem a próxima precedência mais alta, então <code class="hightlighter-rouge">1 + 2**3</code> é 9, não 27, e <code class="hightlighter-rouge">2 * 3**2</code> é 18, não 36.</p></li>
        <li><p>A Multiplicação e a Divisão têm precedência mais alta que a Adição e a Subtração. Assim, <code class="hightlighter-rouge">2 * 3 - 1</code> é 5, não 4, e <code class="hightlighter-rouge">6 + 4 / 2</code> é 8, não 5.</p></li>
        <li><p>Os operadores com a mesma precedência são avaliados da esquerda para a direita (exceto na exponenciação). Assim, na expressão degrees / 2 * pi, a divisão acontece primeiro e o resultado é multiplicado por pi. Para dividir por 2π, você pode usar parênteses ou escrever <code class="hightlighter-rouge">degrees / 2 / pi</code>.</p></li>
      </ul>
      <p>Eu não fico sempre tentando lembrar da precedência de operadores. Se a expressão não estiver clara à primeira vista, uso parênteses para fazer isso.</p>
      <h2><b><font color=#008B45>2.6 - Operações com strings</font></b></h2>
      <p>Em geral, não é possível executar operações matemáticas com strings, mesmo se elas parecerem números, então coisas assim são ilegais:</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              '2'-'1'    'eggs'/'easy'    'third'*'a charm'</code></pre></div></div>
      <p>Mas há duas exceções, <code class="hightlighter-rouge">+</code> e <code class="hightlighter-rouge">*</code>.</p>
      <p>O operador + executa uma concatenação de strings, ou seja, une as strings pelas extremidades. Por exemplo:</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              >>> first = 'throat'<br>
              >>> second = 'warbler'<br>
              >>> first + second<br>
              throatwarbler</code></pre></div></div>
      <p>O operador <code class="hightlighter-rouge">*</code> também funciona em strings; ele executa a repetição. Por exemplo, ‘Spam’<code class="hightlighter-rouge">*</code>3 é ‘SpamSpamSpam’. Se um dos valores for uma string, o outro tem de ser um número inteiro.
      <p>Este uso de + e <code class="hightlighter-rouge">*</code> faz sentido por analogia com a adição e a multiplicação. Tal como <code class="hightlighter-rouge">4 * 3</code> é equivalente a <code class="hightlighter-rouge">4 + 4 + 4</code>, esperamos que <code class="hightlighter-rouge">'Spam' * 3</code> seja o mesmo que ‘Spam’+’Spam’+’Spam’, e assim é. Por outro lado, há uma diferença significativa entre a concatenação de strings e a repetição em relação à adição e à multiplicação de números inteiros. Você consegue pensar em uma propriedade que a adição tem, mas a concatenação de strings não tem?</p>
      <h2><b><font color=#008B45>2.7 - Comentários</font></b></h2>
      <p>Conforme os programas ficam maiores e mais complicados, eles são mais difíceis de ler. As linguagens formais são densas e muitas vezes é difícil ver um pedaço de código e compreender o que ele faz ou por que faz isso.</p>
      <p>Por essa razão, é uma boa ideia acrescentar notas aos seus programas para explicar em linguagem natural o que o programa está fazendo. Essas notas são chamadas de comentários, e começam com o símbolo #:</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              <i># computa a percentagem da hora que passou</i>
              percentage = (minute * 100) / 60</code></pre></div></div>
      <p>Nesse caso, o comentário aparece sozinho em uma linha. Você também pode pôr comentários no fim das linhas:</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              percentage = (minute * 100) / 60    <i># percentagem de uma hora</i></code></pre></div></div>
      <p>Tudo do # ao fim da linha é ignorado – não tem efeito na execução do programa.</p>
      <p>Os comentários tornam-se mais úteis quando documentam algo no código que não está óbvio. Podemos supor que o leitor compreenda o que o código faz; assim, é mais útil explicar porque faz o que faz.</p>
      <p>Este comentário é redundante em relação ao código, além de inútil:</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              v = 5    <i># atribui 5 a v</i></code></pre></div></div>
      <p>Este comentário contém informações úteis que não estão no código:</p>
      <div class="language-python hightlighter-rouge">
        <div class=highlight>
          <pre class="highlight">
            <code>
              v = 5    <i># velocidade em metros/segundo.</i></code></pre></div></div>
      <p>Bons nomes de variáveis podem reduzir a necessidade de comentários, mas nomes longos podem tornar expressões complexas difíceis de ler, então é preciso analisar o que vale mais a pena.</p>
      <h2><b><font color=#008B45>2.8 - Depuração</font></b></h2>
      <p>Há três tipos de erros que podem ocorrer em um programa: erros de sintaxe, erros de tempo de execução e erros semânticos. É útil distinguir entre eles para rastreá-los mais rapidamente.</p>
      <p><b>Erro de sintaxe</b></p>
        <p><ul>A “sintaxe” refere-se à estrutura de um programa e suas respectivas regras. Por exemplo, os parênteses devem vir em pares correspondentes, então (1 + 2) é legal, mas 8) é um erro de sintaxe.</ul></p>
        <p><ul>Se houver um erro de sintaxe em algum lugar no seu programa, o Python exibe uma mensagem de erro e para, e não será possível executar o programa. Nas primeiras poucas semanas da sua carreira em programação, você pode passar muito tempo rastreando erros de sintaxe. Ao adquirir experiência, você fará menos erros e os encontrará mais rápido.</ul></p>
      <p><b>Erro de tempo de execução</b></p>
        <p><ul>O segundo tipo de erro é o erro de tempo de execução, assim chamado porque o erro não aparece até que o programa seja executado. Esses erros também se chamam de exceções porque normalmente indicam que algo excepcional (e ruim) aconteceu.</ul></p>
        <p><ul>Os erros de tempo de execução são raros nos programas simples que veremos nos primeiros capítulos, então pode demorar um pouco até você encontrar algum.</ul></p>
      <p><b>Erro semântico</b></p>
        <p><ul>O terceiro tipo do erro é “semântico”, ou seja, relacionado ao significado. Se houver um erro semântico no seu programa, ele será executado sem gerar mensagens de erro, mas não vai fazer a coisa certa. Vai fazer algo diferente. Especificamente, vai fazer o que você disser para fazer.</ul></p>
        <p><ul>Identificar erros semânticos pode ser complicado, porque é preciso trabalhar de trás para a frente, vendo a saída do programa e tentando compreender o que ele está fazendo.</ul></p>
      <h2><b><font color=#008B45>2.8 - Glossário</font></b></h2>
      <p><b><font color=#4169E1>variável</font></b></p>
        <p><ul>Um nome que se refere a um valor.</ul></p>
      <p><b><font color=#4169E1>atribuição</font></b></p>
        <p><ul>Uma instrução que atribui um valor a uma variável.</ul></p>
      <p><b><font color=#4169E1>diagrama de estado</font></b></p>
        <p><ul>Uma representação gráfica de um grupo de variáveis e os valores a que se referem.</ul></p>
      <p><b><font color=#4169E1>palavra-chave</font></b></p>
        <p><ul>Uma palavra reservada, usada para analisar um programa; não é possível usar palavras-chave como if, def e while como nomes de variáveis.</ul></p>
      <p><b><font color=#4169E1>operando</font></b></p>
        <p><ul>Um dos valores que um operador produz.</ul></p>
      <p><b><font color=#4169E1>expressão</font></b></p>
        <p><ul>Uma combinação de variáveis, operadores e valores que representa um resultado único.</ul></p>
      <p><b><font color=#4169E1>avaliar</font></b></p>
        <p><ul>Simplificar uma expressão executando as operações para produzir um valor único.</ul></p>
      <p><b><font color=#4169E1>instrução</font></b></p>
        <p><ul>Uma seção do código que representa um comando ou ação. Por enquanto, as instruções que vimos são instruções de atribuições e de exibição.</ul></p>
      <p><b><font color=#4169E1>executar</font></b></p>
        <p><ul>Executar uma instrução para fazer o que ela diz.</ul></p>
      <p><b><font color=#4169E1>modo interativo</font></b></p>
        <p><ul>Um modo de usar o interpretador do Python, digitando o código no prompt.</ul></p>
      <p><b><font color=#4169E1>modo script</font></b></p>
        <p><ul>Um modo de usar o interpretador do Python para ler código em um script e executá-lo.</ul></p>
      <p><b><font color=#4169E1>script</font></b></p>
        <p><ul>Um programa armazenado em um arquivo.</ul></p>
      <p><b><font color=#4169E1>ordem das operações</font></b></p>
        <p><ul>As regras que governam a ordem na qual as expressões que envolvem vários operadores e operandos são avaliadas.</ul></p>
      <p><b><font color=#4169E1>concatenar</font></b></p>
        <p><ul>Juntar dois operandos pelas extremidades.</ul></p>
      <p><b><font color=#4169E1>comentários</font></b></p>
        <p><ul>Informações em um programa destinadas a outros programadores (ou qualquer pessoa que leia o texto fonte) que não têm efeito sobre a execução do programa.</ul></p>
      <p><b><font color=#4169E1>erro de sintaxe</font></b></p>
        <p><ul>Um erro em um programa que torna sua análise impossível (e por isso impossível de interpretar).</ul></p>
      <p><b><font color=#4169E1>exceção</font></b></p>
        <p><ul>Um erro que se descobre quando o programa é executado.</ul></p>
      <p><b><font color=#4169E1>semântica</font></b></p>
        <p><ul>O significado de um programa.</ul></p>
      <p><b><font color=#4169E1>erro semântico</font></b></p>
        <p><ul>Um erro que faz com que um programa faça algo diferente do que o programador pretendia.</ul></p>
      <h2><b><font color=#008B45>2.10 - Exercícios</font></b></h2>
      <h3><b><font color=#008B45>Exercício 2.1</font></b></h3>
      <p>Repetindo o meu conselho do capítulo anterior, sempre que você aprender um recurso novo, você deve testá-lo no modo interativo e fazer erros de propósito para ver o que acontece.</p>
      <ul>
        <p><li>Vimos que n = 42 é legal. E 42 = n?</li></p>
        <p><li>Ou x = y = 1?</li></p>
        <p><li>Em algumas linguagens, cada instrução termina em um ponto e vírgula ;. O que acontece se você puser um ponto e vírgula no fim de uma instrução no Python?</li></p>
        <p><li>E se puser um ponto no fim de uma instrução?</li></p>
        <p><li>Em notação matemática é possível multiplicar x e y desta forma: xy. O que acontece se você tentar fazer o mesmo no Python?</li></p>
      </ul>
      <h3><b><font color=#008B45>Exercício 2.2</font></b></h3>
      <p>Pratique o uso do interpretador do Python como uma calculadora:</p>
      <ol>
        <p><li>O volume de uma esfera com raio r é <img src="https://github.com/PenseAllen/PensePython2e/raw/master/fig/p19f1.png" alt="Fórmula – Volume de uma esfera.">. Qual é o volume de uma esfera com raio 5?</li></p>
        <p><li>Suponha que o preço de capa de um livro seja R$ 24,95, mas as livrarias recebem um desconto de 40%. O transporte custa R$ 3,00 para o primeiro exemplar e 75 centavos para cada exemplar adicional. Qual é o custo total de atacado para 60 cópias?</li></p>
        <p><li>Se eu sair da minha casa às 6:52 e correr 1 quilômetro a um certo passo (8min15s por quilômetro), então 3 quilômetros a um passo mais rápido (7min12s por quilômetro) e 1 quilômetro no mesmo passo usado em primeiro lugar, que horas chego em casa para o café da manhã?</li></p>
      </ol>
      <footer class="site-footer">
        <span class="site-footer-owner">
          <p><b><a href="https://github.com/PenseAllen/PensePython2e"><font color=0000FF>PensePython2e</font></a> is maintained by <a href="https://github.com/PenseAllen"><font color=0000FF>PenseAllen</font></a>.</b><br></span>
        <span class="site-footer-credits">
          <font color=808080>This page was generated by</font> <a href="https://pages.github.com/"><font color=0000FF>GitHub Pages</font></a>.</p></span>
      </footer>
  </body>
</html>
